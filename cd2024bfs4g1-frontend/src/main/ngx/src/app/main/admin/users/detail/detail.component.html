<o-form #form attr="users_form_edit" service="users" entity="user" header-actions="R;U" keys="usr_id"
  keys-sql-types="integer" columns="usr_id;usr_name" header-position="bottom" layout-direction="row"
  detect-changes-on-blur="no" fxFill undo-button="no" stay-in-record-after-insert="true" class="form-container">

  <div class="form-grid">
    <div class="user-info">
      <o-image attr="usr_photo" empty-image="assets/images/no-image.png" sql-type="OTHER" class="avatar"
        label="PROFILE.EDIT_PHOTO"></o-image>

      <o-text-input attr="usr_login" required="yes" placeholder="Username"></o-text-input>
      <o-password-input attr="usr_password" required="yes" placeholder="Password"></o-password-input>

      <o-text-input attr="usr_name" required="yes" placeholder="First Name"></o-text-input>
      <o-text-input attr="usr_surname" placeholder="Last Name"></o-text-input>

      <o-text-input attr="usr_phone" placeholder="Phone"></o-text-input>
      <o-date-input #creationDate attr="usr_creation_date" enabled="no" touch-ui="yes"
        placeholder="Creation Date"></o-date-input>

      <o-email-input attr="usr_email" placeholder="Email"></o-email-input>

      <o-textarea-input attr="usr_notes" label="Notes" rows="5" class="textarea-full"></o-textarea-input>
    </div>

    <div class="roles-section">
      <o-table attr="userRoles" service="users" entity="rolesForUser" keys="usr_id;rol_id;uro_id" parent-keys="usr_id"
        columns="usr_id;rol_id;uro_id;rol_name;rol_notes;actived" visible-columns="rol_name;rol_notes;actived"
        sort-columns="rol_name" query-rows="25" select-all-checkbox="no" export-button="no" insert-button="no"
        delete-button="no" refresh-button="no" fixed-header="yes" detail-mode="none" edition-mode="click"
        [enabled]="!form.isInInsertMode()" selection-mode="none" export-mode="local">
        <o-table-columns-filter columns="rol_name;rol_notes"></o-table-columns-filter>
        <o-table-column attr="actived" title="active">
          <o-table-cell-renderer-boolean boolean-type="boolean" true-value="true" false-value="false" true-value-type="icon"
            render-type="icon" render-true-value="check_box" render-false-value="check_box_outline_blank">
          </o-table-cell-renderer-boolean>
          <o-table-cell-editor-boolean true-value="true" false-value="false"
            boolean-type="boolean"></o-table-cell-editor-boolean>
        </o-table-column>
      </o-table>
    </div>
  </div>
</o-form>