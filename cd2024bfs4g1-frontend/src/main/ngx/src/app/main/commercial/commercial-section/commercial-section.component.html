<o-form-layout-manager  #formLayoutManager attr="commercialSectionLayout" mode="tab"  title="{{'Commercial Section' | oTranslate}}">
    <o-form-layout-tabgroup-options label-columns="name;surname1"></o-form-layout-tabgroup-options>
    <div class="table_container">
        <o-form editable-detail="no" show-header="no" layout-align="start stretch" class="commercial-filters-form" fxFill>
            <o-column-collapsible title="{{'FILTERS' | oTranslate}}" appearance="legacy" expanded="no" elevation="10"
                      icon="filter_list" class="collapsible-2">
    <div class="filter_style">
        <div class="combo-container">
            <label for="bootcampsCombo" class="combo-placeholder">Bootcamps</label>
            <o-combo id="bootcampsCombo" attr="bootcamps_id" class="bootcamp" label="Bootcamps" read-only="no"
                     service="bootcamps" entity="futureBootcamp" keys="id" columns="id;name" value-column="id"
                     query-on-init="true" searchable="yes" visible-columns="name" translate="yes" null-selection="true"
                     sort="ASC"></o-combo>
          </div>
          
          <div class="combo-container">
            <label for="employmentStatusCombo" class="combo-placeholder">{{'LEMSTATUS_ACTUAL' | oTranslate}}</label>
            <o-combo id="employmentStatusCombo" attr="employment_status" label="LEMSTATUS_ACTUAL" null-selection="true"
                     service="employmentstatus" entity="employmentStatus" keys="id" columns="id;situation"
                     value-column="situation"visible-columns="situation" read-only="no" sort="ASC"></o-combo>
        </div>

        <div class="centered-actions" fxLayout="row" fxLayoutAlign="center" fxLayoutGap="8px">
            <o-button attr="clear" [oFilterBuilderClear]="commercialFilterBuilder" type="STROKED"
                      label="{{'CLEAR' | oTranslate}}" layout-padding color="primary">
            </o-button>
        </div>
    </div>

 <o-filter-builder #commercialFilterBuilder attr="thefilter"
                  filters="bootcamps_id:bootcamps_id;employment_status:employment_status"
                  [target]="tableCommercial" query-on-change="yes" query-on-change-delay="500"
                  [expression-builder]="createFilter">
</o-filter-builder>
</o-column-collapsible>

            <div>
                <h1 class="titulo_tablas">{{ 'LCONTACTEDSTUDENTS' | oTranslate }}</h1>
            <o-table #tableCommercial virtual-scroll="false" class="general_table" attr="commercialTable" service="students" entity="commercialStudent"
                sort-columns="name" keys="id" 
                columns="id;name;surname1;personal_email;surname2;dni;birth_date;phone;udemy;campus_email;fct_school;fct_start;fct_end;tutor;github_user;spain_comunity;location;student_status_id;bootcamps_id;employment_status;last_note;creation_date;comercial_status"
                visible-columns="name;surname1;surname2;personal_email;phone;employment_status;last_note;creation_date;comercial_status" insert-button="false" delete-button="false" pageable="true"
                show-report-on-demand-option="false" show-charts-on-demand-option="false" detail-mode="none" (onClick)="goToDetail($event)">
                <o-table-column attr="name" title="Name"></o-table-column>
                <o-table-column attr="surname1" title="FIRST_SURNAME"></o-table-column>
                <o-table-column attr="surname2" title="LAST_SURNAME"></o-table-column>
                <o-table-column attr="personal_email" title="Email"></o-table-column>
                <o-table-column attr="phone" title="LPHONE"></o-table-column>
                <o-table-column attr="employment_status" title="LEMSTATUS_ACTUAL"></o-table-column>
                <o-table-column max-width="150px" min-width="150px" attr="last_note" title="LLNOTE" tooltip="yes"></o-table-column>
                <o-table-column attr="creation_date" title="creation_date" type="date" format="DD/MM/YYYY"content-align="center" title-align="center"></o-table-column>
                <o-table-paginator page-size="20" page-size-options="10;20;40"></o-table-paginator>
              </o-table>
            </div>
        </o-form>
    </div>
</o-form-layout-manager>
