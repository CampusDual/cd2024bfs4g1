<o-form #studentsform attr="studentsNew" service="students" entity="student" keys="id" header-actions="R;I;U;D"
  show-header-navigation="no" after-insert-mode="new" confirm-exit="no">
  <div class="grid-container">

    <div class="foto">
      <o-image #UsrPhoto attr="usr_photo" empty-image="assets/images/no-image.png" 
               sql-type="OTHER" class="avatar" (onChange)="onImageChange($event)" 
               max-file-size="409600" accept-file-type="image/png,image/jpeg,image/gif,image/jpg"
               label="PROFILE.EDIT_PHOTO" ></o-image>
    </div>

    <div class="nombre">
      <label for="name">{{'REQ_LNAME'|oTranslate}}</label>
      <o-text-input attr="name" required="yes" id="name" [validators]="validatorsWithoutSpace" max-length="255"
        (input)="toUpperCamelCase($event)"></o-text-input>
    </div>
    <div class="apellido">
      <label for="surname1">{{'REQ_LSURNAME1'|oTranslate}}</label>
      <o-text-input attr="surname1" [validators]="validatorsWithoutSpace" required="yes" max-length="255"
        (input)="toUpperCamelCase($event)"></o-text-input>
    </div>
    <div class="apellido2">
      <label for="surname2">{{'LSURNAME2' | oTranslate}}</label>
      <o-text-input attr="surname2" required="no" max-length="255" (input)="toUpperCamelCase($event)"></o-text-input>
    </div>
    <div class="dni">
      <label for="dni">{{'REQ_LDNI' | oTranslate}}</label>
      <o-nif-input attr="dni" label="{{'NIF' | oTranslate}}" read-only="no" required="yes"
        (input)="toUpperCase($event)" (onBlur)="mostrar($event)"></o-nif-input>
      <div class="aviso" *ngIf="showNotice">
        <link rel="stylesheet"/>
        <label for="dni" >{{'DNI_WARNING'|oTranslate}}<mat-icon svgIcon="ontimize:warning"></mat-icon> </label>
      </div>
    </div>
    <div class="usuario">
      <label for="REQ_USER">{{'REQ_USER' | oTranslate}}</label>
      <o-text-input attr="usr_login" required="yes" id="name" max-length="255"
        [validators]="validatorsWithoutSpace"></o-text-input>
    </div>
    <div class="contraseÃ±a">
      <label for="REQ_PASSWORD">{{'REQ_PASSWORD' | oTranslate}}</label>
      <o-password-input attr="usr_password" required="yes" show-password-button="true" in-length="8"
        [validators]="validatorsNewPasswordArray">
        <o-validator error-name="hasCapitalCase" error-text="VALIDATOR.HASCAPITALCASE"></o-validator>
        <o-validator error-name="hasNumber" error-text="VALIDATOR.HASNUMBER"></o-validator>
        <o-validator error-name="hasSmallCase" error-text="VALIDATOR.HASSMALLCASE"></o-validator>
      </o-password-input>
    </div>
    <div class="telefono">
      <label for="REQ_LPHONE">{{'REQ_LPHONE' | oTranslate}}</label>
      <o-phone-input attr="phone" required="yes" automatic-binding="false" [data]="'+34 000000000'"></o-phone-input>
    </div>
    <div class="employmentStatus">
      <label for="employment_status">{{'REQ_LEMSTATUS' | oTranslate}}</label>
      <o-combo attr="employment_status_id" label="{{'LEMSTATUS' | oTranslate}}" required="yes" translate="yes"
        null-selection="false" [data]="[]" service="employmentstatus" entity="employmentStatus" keys="id"
        columns="id;situation" value-column="id" description-columns="situation" query-on-init="true">
      </o-combo>
    </div>

    <div class="status">
      <div class="studentStatus">
        <label for="student_status">{{'REQ_LSTATUS' | oTranslate}}</label>
        <o-combo attr="student_status_id" label="{{'LSTATUS' | oTranslate}}" required="yes" translate="yes"
          null-selection="false" [data]="[]" service="studentstatus" entity="studentStatus" keys="id"
          columns="id;status" value-column="id" description-columns="status" query-on-init="true">
        </o-combo>
      </div>
    </div>
    <div class="comunidad">
      <label for="spain_comunity">{{'REQ_LSPAINCOMUNITY' | oTranslate}}</label>
      <o-combo attr="spain_comunity" [static-data]="dataArray" [data]="valueSimple" required="yes" searchable="yes"
        value-column="key" columns="key;value" visible-columns="value" null-selection="no"></o-combo>
    </div>

    <div class="location">
      <label for="location">{{'LLOCATION' | oTranslate}}</label>
      <o-text-input attr="location" required="no" (input)="toUpperCamelCase($event)"></o-text-input>
    </div>


    <div class="fechaCumple">
      <label for="birth_date">{{'REQ_LBIRTHDATE' | oTranslate}}</label>
      <o-date-input attr="birth_date" required="yes" text-input-enabled="no" format="DD/MM/YYYY"></o-date-input>
    </div>
    <div class="email">
      <label for="Personal email">{{'REQ_LEMAIL'|oTranslate}}</label>
      <o-email-input attr="personal_email" required="yes"></o-email-input>
    </div>
    <div class="emailCampus">
      <label for="campus_email">{{'LCAMPUS_EMAIL' | oTranslate}}</label>
      <o-email-input attr="campus_email" required="no"></o-email-input>
    </div>
    <div class="fctSchool">
      <label for="fct_school">{{'LFCT_SCHOOL' | oTranslate}}</label>
      <o-text-input attr="fct_school" required="no" max-length="100" (input)="toUpperCamelCase($event)"></o-text-input>
    </div>
    <div class="udemy">
      <label for="LUDEMY">{{'LUDEMY' | oTranslate}}</label>
      <div class="checkbox-container">
        <o-checkbox attr="udemy"></o-checkbox>
      </div>
    </div>
    <div class="fctStart">
      <label for="fct_start">{{'LFCT_START' | oTranslate}}</label>
      <o-date-input #startdate attr="fct_start" required="no" text-input-enabled="no " format="DD/MM/YYYY"
        (onValueChange)="throwChange(enddate)">
        <o-validator error-name="wrongendate" error-text="END_DATE_MORE_THAN_INIT_DATE"></o-validator>
      </o-date-input>
    </div>
    <div class="fctEnd">
      <label for="fct_end">{{'LFCT_END' | oTranslate}}</label>
      <o-date-input #enddate attr="fct_end" required="no" [validators]="validatorsArray" format="DD/MM/YYYY"
        text-input-enabled="no " (onValueChange)="throwChange2(startdate)">
        <o-validator error-name="wrongendate" error-text="END_DATE_MORE_THAN_INIT_DATE"></o-validator>
      </o-date-input>

    </div>
    <div class="tutor">
      <label for="LTUTOR">{{'LTUTOR' | oTranslate}}</label>
      <o-combo attr="tutor" service="tutors" entity="tutor" required="no" searchable="yes" value-column="id"
      columns="id;name;surname1;surname2" visible-columns="name;surname1;surname2" null-selection="true" sortable="yes" sort="ASC">
      </o-combo>
    </div>

    <div class="githubUser">
      <label for="LGITHUB_USER">{{'LGITHUB_USER' | oTranslate}}</label>
      <o-text-input attr="github_user" required="no" max-length="200"></o-text-input>
    </div>
    <div class="notes">
      <label for="notes">{{'LNOTES' | oTranslate}}</label>
      <o-textarea-input attr="notes" required="no" max-length="1000"></o-textarea-input>
    </div>
  </div>
</o-form>
